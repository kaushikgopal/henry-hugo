@layer base {
  article {
    @apply  space-y-6
            leading-tight
            text-ht
            text-xl md:text-2xl;
  }

  article > p {
    /* spacing between paragraphs */
    @apply mb-7;
  }

  article p {
    @apply overflow-hidden text-ellipsis;
  }

  a {
    @apply underline underline-offset-4 decoration-ht-lighter hover:no-underline hover:text-hc;
  }

  article a {
    @apply font-medium text-ht underline hover:no-underline underline-offset-4;
  }
}

@layer utilities {
  .blog-content-width {
    @apply w-[85%] max-w-3xl min-w-[333px] mx-auto;
  }
}

.post-content hr {
  @apply border-ht-lighter mt-6;
}

.post-content h1,
.post-content h2,
.post-content h3,
.post-content h4,
.post-content h5,
.post-content h6 {
    @apply font-title font-bold;
}


.post-content h1 {
  @apply text-2xl md:text-3xl mt-2;
}

.post-content h2 {
  @apply text-xl md:text-2xl;
}

.post-content h2+ul {
  @apply -mt-5;
}

.post-content h3 {
  @apply text-lg md:text-xl;
}

.post-content h4 {
  @apply text-lg md:text-xl font-semibold;
}

.post-content>ol,
.post-content>ul {
  @apply ms-6 md:ms-8;
}

.callout ol,
.callout ul {
  @apply ms-1 md:ms-2;
}


.post-content ol li,
.post-content ul li {
  @apply ms-6;
}

.post-content ol li {
  @apply list-decimal;
}

.post-content ul li {
  @apply list-disc;
}

/* code blocks */
.post-content pre {
  @apply p-4 border border-black rounded-md overflow-auto;
}

.post-content .highlight pre code {
  @apply text-xs;
}

/* inline code */
.post-content code {
  @apply font-[550] text-[0.8em] bg-hbg-dark;
}

.post-content>*:not(figure.full-bleed) {
  @apply w-[85%] max-w-3xl min-w-[333px] mx-auto;
}

.post-content figure.full-bleed {
  @apply w-full border-l-0 border-r-0;
}

.post-content figure figcaption {
  @apply text-center no-underline font-bold text-xs pt-1;
}

.post-content *:not(figure.full-bleed) img {
  @apply border-4 border-black rounded-md;
}

.post-content figure.full-bleed img {
  width: 100%;
  @apply border-t-4 border-b-4 border-black;
}

.post-content figure img.borderless {
  @apply border-0;
}

.post-content .footnote-ref {
  @apply ps-0.5 text-ht-lighter hover:text-ht-light font-bold no-underline;
}

.post-content .footnote-backref {
  @apply font-bold text-hc2-dark no-underline hover:text-hc;
}

.post-content th {
  @apply border-b-2 border-ht-light py-2;
}

.footnotes ol {
  @apply list-decimal mt-2 py-2 pe-1 ps-4 text-base md:text-lg text-ht-light;
}

.footnotes ol a {
  @apply decoration-ht-lighter;
}

.pill-hc2 {
  @apply w-fit border-2 border-hc2-dark rounded-lg px-1.5 py-0.5 bg-transparent hover:bg-hc2-dark text-hc2-dark hover:text-white uppercase no-underline font-sans text-xs;
  font-size: 10px;
}

section.post .pill-hc2 {
  @apply border-none;
}

.pill-hc2-solid {
  @apply w-fit border-2 border-hc2-dark rounded-lg px-1.5 py-0.5 bg-hc2-dark text-white uppercase no-underline font-sans font-bold;
  font-size: 10px;
}

.pill-hc {
  @apply w-fit border-2 border-hc rounded-lg p-1.5 bg-transparent hover:bg-hc text-hc hover:text-ht-lightest uppercase no-underline font-sans;
  font-size: 10px;
}

section.post .pill-hc {
  @apply border-none;
}

.pill-hc-solid {
  @apply w-fit border-2 border-hc rounded-lg px-1.5 py-0.5 bg-hc hover:bg-transparent text-black uppercase no-underline font-sans font-bold;
  font-size: 10px;
}

.pill-slate {
  @apply w-fit border-2 border-ht-light rounded-lg bg-transparent
         px-1.5 py-0.5 md:py-1
         hover:bg-ht-light text-ht-light hover:text-ht-lightest
         font-sans uppercase no-underline font-bold;
  font-size: 10px;
}

section.post .pill-slate {
  @apply border-none;
}

/* Pagination styles */
.pagination {
  @apply flex flex-wrap justify-center items-center space-x-2 my-8;
}

.page-item {
  @apply inline-block;
}

.page-item:nth-last-child(-n + 4):nth-last-child(n + 3) {
  @apply hidden sm:block;
}

.page-link {
  @apply px-3 py-2 border border-ht-lighter rounded-md text-ht hover:bg-hbg-dark hover:text-hc transition-colors duration-200 no-underline;
}

.page-item.active .page-link {
  @apply bg-hc text-black font-bold;
}

.page-item.disabled .page-link {
  @apply opacity-50 cursor-not-allowed hover:bg-transparent hover:text-ht;
}


.post-content blockquote {
  @apply  bg-hbg-dark p-6
          text-base font-semibold;
}

.post-content blockquote code {
  @apply text-sm;
}

/* *****************************************************
 * Obsidian-style Callouts
 ***************************************************** */

.post-content .callout:not(figure) {
  @apply text-base md:text-lg;
}

.callout-title code {
  @apply text-sm;
}

.callout-icon svg {
  @apply w-full h-full;
}

.callout-title-inner {
  @apply flex-1 font-semibold;
}

.callout-fold {
  @apply w-5 h-5 flex items-center justify-center cursor-pointer transition-colors;
}

.callout-content {
  @apply px-8 pb-3;
}

.callout-content>*:first-child {
  @apply mt-0;
}

.callout-content>*:last-child {
  @apply mb-0;
}


.callout {
  @apply overflow-hidden py-2 font-semibold;

  --callout-border: var(--color-ht-lighter);
  --callout-bg: color-mix(in srgb, var(--color-ht-lightest) 50%, white 50%);

  background: var(--callout-bg);
  border-style: double;
}
@media (prefers-color-scheme: dark) {
  .callout {
    --callout-bg: color-mix(in srgb, var(--color-ht-lightest) 70%, black 30%);
  }
}


.callout-icon {
  @apply flex items-center justify-center w-5 h-5 flex-shrink-0;
  color: var(--callout-icon-color, #64748b);
}
.callout-title {
  @apply flex items-center gap-2 px-4 py-3 font-medium text-sm;
  /* background: var(--callout-title-bg, #334155); */
  /* color: var(--callout-title-color, #334155); */
}


/* Note/Info/FYI - Blue */
.callout[data-callout="note"],
.callout[data-callout="info"],
.callout[data-callout="fyi"] {
  /* --callout-bg: #dbeafe; */
  /* --callout-border: #93c5fd; */
  /* --callout-title-bg: #bfdbfe; */
  /* --callout-title-color: #1e40af; */
  --callout-icon-color: #2563eb;
}
@media (prefers-color-scheme: dark) {
  /* Note/Info/FYI - Blue Dark */
  .callout[data-callout="note"],
  .callout[data-callout="info"],
  .callout[data-callout="fyi"] {
    /* --callout-bg: var(--color-hbg); */
    /* --callout-title: #1e40af; */
    --callout-icon-color: #60a5fa;
  }
}

/* TL;DR - Cyan */
.callout[data-callout="tldr"] {
  /* --callout-bg: #cffafe; */
  /* --callout-border: #67e8f9; */
  /* --callout-title-bg: #a5f3fc; */
  /* --callout-title-color: #0e7490; */
  --callout-icon-color: #0891b2;
}
@media (prefers-color-scheme: dark) {
  .callout[data-callout="tldr"] {
    /* --callout-title: #0e7490; */
    --callout-icon-color: #22d3ee;
  }
}


/* Important/Tip/Hint - Orange */
.callout[data-callout="important"],
.callout[data-callout="tip"],
.callout[data-callout="hint"] {
  /* --callout-bg: #fed7aa; */
  /* --callout-border: #fdba74; */
  /* --callout-title-bg: #fcd34d; */
  /* --callout-title-color: #c2410c; */
  --callout-icon-color: #ea580c;
}
@media (prefers-color-scheme: dark) {
  /* Important/Tip/Hint - Orange Dark */
  .callout[data-callout="important"],
  .callout[data-callout="tip"],
  .callout[data-callout="hint"] {
    /* --callout-title: #c2410c; */
    --callout-icon-color: #fb923c;
  }
}


/* Warning/Caution/Attention - Yellow */
.callout[data-callout="warning"],
.callout[data-callout="caution"],
.callout[data-callout="attention"] {
  /* --callout-bg: #fef3c7; */
  /* --callout-border: #fcd34d; */
  /* --callout-title-bg: #fed7aa; */
  /* --callout-title-color: #d97706; */
  --callout-icon-color: #f59e0b;
}
@media (prefers-color-scheme: dark) {
  /* Warning/Caution/Attention - Yellow Dark */
  .callout[data-callout="warning"],
  .callout[data-callout="caution"],
  .callout[data-callout="attention"] {
    /* --callout-title: #d97706; */
    --callout-icon-color: #fbbf24;
  }
}

/* Error - Red */
.callout[data-callout="error"] {
  /* --callout-bg: #fecaca; */
  /* --callout-border: #f87171; */
  /* --callout-title-bg: #fca5a5; */
  /* --callout-title-color: #dc2626; */
  --callout-icon-color: #ef4444;
}
@media (prefers-color-scheme: dark) {
  .callout[data-callout="error"] {
    /* --callout-title: #dc2626; */
    --callout-icon-color: #f87171;
  }
}


.callout[data-callout="failure"],
.callout[data-callout="fail"],
.callout[data-callout="missing"] {
  /* --callout-bg: #fce7f3; */
  /* --callout-border: #f9a8d4; */
  /* --callout-title-bg: #fbcfe8; */
  /* --callout-title-color: #be185d; */
  --callout-icon-color: #ec4899;
}
@media (prefers-color-scheme: dark) {

  /* Failure/Fail/Missing - Pink Dark */
  .callout[data-callout="failure"],
  .callout[data-callout="fail"],
  .callout[data-callout="missing"] {
    /* --callout-title: #be185d; */
    --callout-icon-color: #f472b6;
  }
}


.callout[data-callout="bug"] {
  /* --callout-bg: #fee2e2; */
  /* --callout-border: #fca5a5; */
  /* --callout-title-bg: #fecaca; */
  /* --callout-title-color: #dc2626; */
  --callout-icon-color: #ef4444;
}
@media (prefers-color-scheme: dark) {
  .callout[data-callout="bug"] {
    /* --callout-title: #dc2626; */
    --callout-icon-color: #f87171;
  }
}

/* Example - Purple */
.callout[data-callout="example"] {
  /* --callout-bg: #ede9fe; */
  /* --callout-border: #c4b5fd; */
  /* --callout-title-bg: #ddd6fe; */
  /* --callout-title-color: #7c3aed; */
  --callout-icon-color: #8b5cf6;
}
@media (prefers-color-scheme: dark) {

  /* Example - Purple Dark */
  .callout[data-callout="example"] {
    /* --callout-title: #7c3aed; */
    --callout-icon-color: #a78bfa;
  }
}


/* Quote/Cite - Gray with watermark effect */
.callout[data-callout="quote"],
.callout[data-callout="cite"] {
  --callout-icon-color: #64748b;
  position: relative;
}

/* Hide title and create watermark effect for quote/cite */
.callout[data-callout="quote"] .callout-title-inner,
.callout[data-callout="cite"] .callout-title-inner {
  display: none;
}

.callout[data-callout="quote"] .callout-icon,
.callout[data-callout="cite"] .callout-icon {
  opacity: 0.15;
  width: 3rem;
  height: 3rem;
  position: absolute;
  top: 0.5rem;
  left: 0.5rem;
  z-index: 0;
  pointer-events: none;
}

.callout[data-callout="quote"] .callout-content,
.callout[data-callout="cite"] .callout-content {
  position: relative;
  z-index: 1;
}

/* Dark mode adjustments for quote/cite */
@media (prefers-color-scheme: dark) {
  .callout[data-callout="quote"],
  .callout[data-callout="cite"] {
    --callout-icon-color: #ffffff;
  }

  .callout[data-callout="quote"] .callout-icon,
  .callout[data-callout="cite"] .callout-icon {
    opacity: 0.2;
  }
}


/* Question/Help/FAQ - Green */
.callout[data-callout="question"],
.callout[data-callout="help"],
.callout[data-callout="faq"] {
  /* --callout-bg: #dcfce7; */
  /* --callout-border: #86efac; */
  /* --callout-title-bg: #bbf7d0; */
  /* --callout-title-color: #166534; */
  --callout-icon-color: #22c55e;
}
@media (prefers-color-scheme: dark) {
  /* Question/Help/FAQ - Green Dark */
  .callout[data-callout="question"],
  .callout[data-callout="help"],
  .callout[data-callout="faq"] {
    /* --callout-title: #166534; */
    --callout-icon-color: #4ade80;
  }
}